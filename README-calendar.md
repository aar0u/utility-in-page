# 日历应用说明

这是一个功能完整的单文件静态HTML日历应用，集成了公历和农历显示，支持多种节日类型。

## 核心功能

### 日历显示
- 完整的公历日历展示，支持年、月、日的切换控制
- 每个日期旁同步显示对应的农历日期（使用`lunarDate.IMonthCn + lunarDate.IDayCn`格式）
- 直观的导航控件，允许用户在不同年份、月份之间切换
- 年份和月份下拉选择器（支持1980年至2050年）
- "今天"按钮，快速跳转到当前日期

### 响应式设计
- 适配不同屏幕尺寸，在PC和移动设备上均有良好显示效果
- 优雅的动画和过渡效果，提升用户体验
- 清晰的界面布局，日期和农历信息显示明确

## 节日系统

应用支持三种类型的节日：

### 1. 固定公历节日
```javascript
solar: {
  "1-1": "新年",
  "2-14": "情人节",
  "3-16": "生日",
  "5-1": "劳动节",
  "6-1": "儿童节",
  "8-9": "坡国庆节",
  "9-7": "生日",
  "10-1": "中国庆节",
  "10-26": "生日",
  "10-31": "万圣节",
  "12-25": "圣诞节",
}
```

### 2. 农历节日
```javascript
lunar: {
  "1-1": "春节",
  "1-15": "元宵节",
  "5-5": "端午节",
  "7-7": "七夕节",
  "8-13": "生日",
  "8-15": "中秋节",
  "9-19": "生日",
  "12-30": "除夕",
}
```

### 3. 动态节日（基于规则计算）
系统支持基于特定规则计算的动态节日，具有良好的可扩展性：

```javascript
dynamic: {
  // 母亲节：每年5月的第二个星期日
  "mothers-day": {
    name: "母亲节",
    month: 5,
    week: 2, // 第几个星期
    day: 0, // 星期几 (0=星期日, 1=星期一, ..., 6=星期六)
  },
  // 父亲节：每年6月的第三个星期日
  "fathers-day": {
    name: "父亲节",
    month: 6,
    week: 3, // 第三个星期
    day: 0, // 星期日
  },
  // Good Friday：复活节前的星期五
  "good-friday": {
    name: "Good Friday",
    type: "easter-relative", // 特殊类型：相对于复活节
    offset: -2, // 复活节前的2天（星期五）
  },
}
```

#### 动态节日计算算法
- **复活节计算**：使用格里高利历算法计算西方复活节日期
- **月内第N个星期几计算**：计算某月第几个星期几的日期（如母亲节、父亲节）
- **相对复活节的节日**：基于复活节日期计算相对偏移的节日（如Good Friday）

## 技术实现

### 文件结构
- **主文件**：`cal.html`（单文件应用，包含所有HTML、CSS和JavaScript代码）
- **农历库**：`js/js-calendar-converter.js`（用于公历和农历转换）
- **样式文件**：`styles.css`（共享样式文件）

### 代码特点
- 清晰的代码结构，包含必要的注释以便维护
- 不依赖外部文件引用（除了styles.css和js/js-calendar-converter.js）
- 使用现代JavaScript实现，兼容主流浏览器

## 运行方式

### 直接访问
在浏览器中直接打开`cal.html`文件即可使用。

### 本地服务器
运行本地服务器以获得更好的体验：
```bash
python start_server.py
```
然后访问 http://localhost:8000/cal.html

## 扩展性

动态节日系统设计具有良好的可扩展性，可以轻松添加：
- 更多基于月份和星期的节日（如感恩节）
- 更多相对于复活节的节日（如复活节星期一）
- 其他类型的动态节日计算规则

### 添加新节日示例

#### 添加固定日期节日
在`solar`对象中添加：
```javascript
"11-11": "光棍节"
```

#### 添加农历节日
在`lunar`对象中添加：
```javascript
"12-8": "腊八节"
```

#### 添加动态节日
在`dynamic`对象中添加：
```javascript
"thanksgiving": {
  name: "感恩节",
  month: 11,
  week: 4, // 第四个星期四
  day: 4,  // 星期四
}
```